# OTUS-Postgre_DBA-2024-09
## Александр Грешнов

### Homework 3. Логический уровень PostgreSQL

#### Часть 1. Создание нового кластера PostgreSQL
1. В VirtualBox установлена ОС Debian. Установлен PostgreSQL. (см. [Homework 1](/Homework/HW-1.md)).\
Создан новый кластер с новым путём для данных и новым портом.
```
...
```

#### Часть 2. Создание новой БД и схемы
1. Создана база данных testdb и схема testnm в ней.
```
создайте новую базу данных testdb
зайдите в созданную базу данных под пользователем postgres
создайте новую схему testnm
```

#### Часть 3. Создание таблицы
1. Создана таблица t1
```
создайте новую таблицу t1 с одной колонкой c1 типа integer
вставьте строку со значением c1=1
```


#### Часть 4. Создание роли
1. Создана роль readonly и наделена правами
```
создайте новую роль readonly
дайте новой роли право на подключение к базе данных testdb
дайте новой роли право на использование схемы testnm
дайте новой роли право на select для всех таблиц схемы testnm
```


#### Часть 5. Создание пользователя
1. Создана пользователь testread с ролью readonly
```
создайте пользователя testread с паролем test123
дайте роль readonly пользователю testread

```

2. Выполнен вход под пользователем testread. Сделана выборка из таблицы t1.
```
зайдите под пользователем testread в базу данных testdb
сделайте select * from t1;
получилось? (могло если вы делали сами не по шпаргалке и не упустили один существенный момент про который позже)
напишите что именно произошло в тексте домашнего задания
у вас есть идеи почему? ведь права то дали?
посмотрите на список таблиц
подсказка в шпаргалке под пунктом 20
а почему так получилось с таблицей (если делали сами и без шпаргалки то может у вас все нормально)
```



#### Часть 6. Пересоздание таблицы
1. Удалена таблица t1 и создана заново с явным указанием имени схемы testnm.
```
вернитесь в базу данных testdb под пользователем postgres
удалите таблицу t1
создайте ее заново но уже с явным указанием имени схемы testnm
вставьте строку со значением c1=1
```



#### Часть 7. Проверка таблицы
1. Сделана выборка из таблицы t1 из-под пользователя testread.
```
зайдите под пользователем testread в базу данных testdb
сделайте select * from testnm.t1;
получилось?
есть идеи почему? если нет - смотрите шпаргалку
как сделать так чтобы такое больше не повторялось? если нет идей - смотрите шпаргалку
сделайте select * from testnm.t1;
получилось?
есть идеи почему? если нет - смотрите шпаргалку
сделайте select * from testnm.t1;
получилось?
ура!
```

#### Часть 8. Создание второй таблицы
1. Выполнена команда создания таблицы t2.
```
теперь попробуйте выполнить команду create table t2(c1 integer); insert into t2 values (2);
а как так? нам же никто прав на создание таблиц и insert в них под ролью readonly?
есть идеи как убрать эти права? если нет - смотрите шпаргалку
если вы справились сами то расскажите что сделали и почему, если смотрели шпаргалку - объясните что сделали и почему выполнив указанные в ней команды
теперь попробуйте выполнить команду create table t3(c1 integer); insert into t2 values (2);
расскажите что получилось и почему
```
2. Убраны права на создание и изменение таблиц.
```
...
```
3. Выполнена команда создания таблицы t3.
```
...
```
